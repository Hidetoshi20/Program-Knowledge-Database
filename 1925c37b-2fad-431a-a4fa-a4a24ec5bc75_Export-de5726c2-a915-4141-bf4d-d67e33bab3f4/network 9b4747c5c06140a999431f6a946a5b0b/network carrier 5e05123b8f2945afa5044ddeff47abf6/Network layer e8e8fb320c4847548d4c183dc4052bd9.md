# Network layer

# IP

### IP分类

![](https://www.notion.soComputer%20Networking%20A%20Top-Down%20Approach.assets/3A1B72345635FE06A1B8B82672EEA03C.jpeg)

img

### IPV4和IPV6有什么区别？

IPv4和IPv6是是目前使用的两种Internet协议版本，IPv4和IPv6协议之间存在各种差异，包括它们的功能，但关键的一点是它生成的地址（地址空间）的数量的区别。

1. 协议地址的区别
    1. 地址长度 IPv4协议具有32位（4字节）地址长度；IPv6协议具有128位（16字节）地址长度。
    2. 地址的表示方法 IPv4地址是以小数表示的二进制数。 IPv6地址是以十六进制表示的二进制数。
    3. 地址配置 IPv4协议的地址可以通过手动或DHCP配置的。 IPv6协议需要使用Internet控制消息协议版本6（ICMPv6）或DHCPv6的无状态地址自动配置（SLAAC）
2. 数据包的区别
    1. 包的大小 IPv4协议的数据包需要576个字节，碎片可选 ；IPv6协议的数据包需要1280个字节，不会碎片。
    2. 包头 IPv4协议的包头的长度为20个字节，不识别用于QoS处理的数据包流，包含checksum，包含最多40个字节的选项字段。 IPv6协议的包头的长度为40个字节，包含指定QoS处理的数据包流的Flow Label字段，不包含checksum；IPv6协议没有字段，但IPv6扩展标头可用。
    3. 数据包碎片 IPv4协议的数据包碎片会由转发路由器和发送主机完成。IPv6协议的数据包碎片仅由发送主机完成。
3. DNS记录 IPv4协议的地址（A）记录，映射主机名；指针（PTR）记录，IN-ADDR.ARPA DNS域。 IPv6协议的地址（AAAA）记录，映射主机名；指针（PTR）记录，IP6.ARPA DNS域
4. IPSec支持
    
    IPv4协议的IPSec支持只是可选的；IPv6协议有内置的IPSec支持。
    
5. 地址解析协议
    
    IPv4协议：地址解析协议（ARP）可用于将IPv4地址映射到MAC地址。
    
    IPv6协议：地址解析协议（ARP）被邻居发现协议（NDP）的功能所取代。
    
6. 身份验证和加密
    
    Pv6提供身份验证和加密；但IPv4不提供。
    

### TCP/IP协议族

是互联网中最重要的网络协议族之一，它由两个协议层组成，即TCP传输控制协议层和IP互联网协议层，因此也被称为TCP/IP协议栈。

TCP传输控制协议层提供了可靠的、面向连接的数据传输服务，可以保证数据的传输顺序和完整性。在TCP层中，每个数据包都有一个序列号，接收端可以根据序列号来判断数据包的顺序，从而保证数据的正确性和完整性。同时，TCP协议也支持流量控制和拥塞控制，以避免网络拥塞和数据丢失。

IP互联网协议层则提供了网络互连的基础服务，负责将数据包从一个网络传输到另一个网络。在IP层中，每个数据包都有一个源IP地址和目标IP地址，通过这些地址来确定数据包的发送和接收。IP协议还支持分组、路由、寻址等基本功能，可以保证数据在网络中的可靠传输。

除了TCP和IP协议之外，TCP/IP协议族还包括了一系列的其他协议，例如ARP、ICMP、UDP等。这些协议共同构成了TCP/IP协议栈，为互联网的高效运行提供了重要的支持。

总的来说，TCP/IP协议族是互联网中最为重要的协议族之一，它提供了可靠的、高效的数据传输服务，为互联网的高速发展和广泛应用提供了坚实的基础。